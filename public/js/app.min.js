$(document).ready(function(){var socket=io.connect("http://localhost:3000");window.buttonPressed=function(a){13===a.keyCode?$("#calculate").click():a.keyCode>=48&&a.keyCode<=57?$("#button_"+(a.keyCode-48)).click():a.keyCode>=96&&a.keyCode<=105&&$("#button_"+(a.keyCode-96)).click()},socket.on("newConnection",function(a){var b=a.history,c=a.ip;$("#user").text(c);for(var d=0;d<b.length;d++){var e=b[d],f='<li class="text-center list-group-item"><div class="pull-left"><span class="fa fa-user"></span> '+e.ip+'</div><div class="badge" title="'+e.time+'"><span class="fa fa-clock-o"></span> '+moment(e.time,"MMMM Do YYYY, h:mm:ss a").fromNow()+'</div><hr /><div><span class="fa fa-star"></span> '+e.display+"</div></li>";$("#connectedUsers").prepend(f)}}),socket.on("addHistory",function(a){var b='<li class="text-center list-group-item"><div class="pull-left"><span class="fa fa-user"></span> '+a.ip+'</div><div class="badge" title="'+a.time+'"><span class="fa fa-clock-o"></span> '+moment(a.time,"MMMM Do YYYY, h:mm:ss a").fromNow()+'</div><hr /><div><span class="fa fa-star"></span> '+a.display+"</div></li>";$("#connectedUsers").prepend(b)}),$("#calculate").click(function(){if(""!=$("#myScreen").val()){var resString=$("#myScreen").val(),displayString=resString+" = "+eval(resString);$("#myScreen").val(eval(resString)),$("#myScreen").css("border","1px solid #78ADFF"),socket.emit("newCalc",{data:displayString})}else $("#myScreen").css("border","1px solid red"),$("#myScreen").popover("show"),$("#myScreen").attr("title","")}),$('td[id^="button"]').click(function(){"C"===$(this).attr("value")?$("#myScreen").val(""):($("#myScreen").css("border",""),$("#myScreen").popover("hide"),$("#myScreen").val($("#myScreen").val()+$(this).attr("value")))})});